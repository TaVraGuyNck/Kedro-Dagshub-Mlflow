#raw data
project_raw:
  type: kedro_datasets.json.JSONDataset
  filepath: data/01_raw/project.json

organization_raw:
  type: kedro_datasets.json.JSONDataset
  filepath: data/01_raw/organization.json

programme_raw:
  type: kedro_datasets.json.JSONDataset
  filepath: data/01_raw/programme.json

# general preprocessed data
model_input_table:
  type: kedro_datasets.pandas.ParquetDataset
  filepath: data/03_primary/selected_features.parquet

# train test split
X_train_raw:
  type: kedro_datasets.pandas.ParquetDataset
  filepath: data/05_model_input/X_train_raw.parquet

X_test_raw:
  type: kedro_datasets.pandas.ParquetDataset
  filepath: data/05_model_input/X_test_raw.parquet

y_train:
  type: kedro_datasets.pandas.ParquetDataset
  filepath: data/05_model_input/y_train.parquet

y_test:
  type: kedro_datasets.pandas.ParquetDataset
  filepath: data/05_model_input/y_test.parquet

#Catboost transformation for test and train
cb_X_train_transformed:
  type: kedro_datasets.pandas.ParquetDataset
  filepath: data/05_model_input/cb_X_train_transformed.parquet

cb_X_test_transformed:
  type: kedro_datasets.pandas.ParquetDataset
  filepath: data/05_model_input/cb_X_test_transformed.parquet

cb_cat_features:
  type: kedro_datasets.json.JSONDataset
  filepath: data/05_model_input/cb_cat_features.json

cb_preprocessor:
  type: pickle.PickleDataset
  filepath: data/06_models/cb_preprocessor.pkl

#Xgboost transformation for test and train
xgb_X_train_transformed:
  type: kedro_datasets.pandas.ParquetDataset
  filepath: data/05_model_input/xgb_X_train_transformed.parquet

xgb_X_test_transformed:
  type: kedro_datasets.pandas.ParquetDataset
  filepath: data/05_model_input/xgb_X_test_transformed.parquet

xgb_preprocessor:
  type: pickle.PickleDataset
  filepath: data/06_models/xgb_preprocessor.pkl

# evaluation metrics
cb_eval_metrics:
  type: kedro_datasets.json.JSONDataset
  filepath: data/08_reporting/cb_eval_metrics.json

xgb_eval_metrics:
  type: kedro_datasets.json.JSONDataset
  filepath: data/08_reporting/xgb_eval_metrics.json

cb_model:
  type: pickle.PickleDataset
  filepath: data/06_models/cb_best_model.pkl

xgb_model:
  type: pickle.PickleDataset
  filepath: data/06_models/xgb_best_model.pkl

# Shap plots
shap_beeswarm_cb_plot:
  type: kedro_datasets.matplotlib.MatplotlibWriter
  filepath: data/08_reporting/shap_cb_summary.png

shap_beeswarm_xgb_plot:
  type: kedro_datasets.matplotlib.MatplotlibWriter
  filepath: data/08_reporting/shap_xgb_summary.png

# Grid search
cb_grid_search_results:
  type: kedro_datasets.pandas.ParquetDataset
  filepath: data/08_reporting/cb_grid_results.parquet

xgb_grid_search_results:
  type: kedro_datasets.pandas.ParquetDataset
  filepath: data/08_reporting/xgb_grid_results.parquet
