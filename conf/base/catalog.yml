# Raw data (JSON)
project_raw:
  type: kedro_datasets.json.JSONDataset
  filepath: data/01_raw/project.json

organization_raw:
  type: kedro_datasets.json.JSONDataset
  filepath: data/01_raw/organization.json

programme_raw:
  type: kedro_datasets.json.JSONDataset
  filepath: data/01_raw/programme.json

# General preprocessed data
model_input_table:
  type: kedro_datasets.pandas.ParquetDataset
  filepath: data/03_primary/selected_features.parquet

# Train/test split
X_train_raw:
  type: kedro_datasets.pandas.ParquetDataset
  filepath: data/05_model_input/X_train_raw.parquet

X_test_raw:
  type: kedro_datasets.pandas.ParquetDataset
  filepath: data/05_model_input/X_test_raw.parquet

y_train:
  type: kedro_datasets.pandas.ParquetDataset
  filepath: data/05_model_input/y_train.parquet

y_test:
  type: kedro_datasets.pandas.ParquetDataset
  filepath: data/05_model_input/y_test.parquet

# CatBoost transformations
cb_X_train_transformed:
  type: kedro_datasets.pandas.ParquetDataset
  filepath: data/05_model_input/cb_X_train_transformed.parquet

cb_X_test_transformed:
  type: kedro_datasets.pandas.ParquetDataset
  filepath: data/05_model_input/cb_X_test_transformed.parquet

cb_cat_features:
  type: kedro_datasets.json.JSONDataset
  filepath: data/05_model_input/cb_cat_features.json

cb_preprocessor:
  type: pickle.PickleDataset
  filepath: data/06_models/cb_preprocessor.pkl

# XGBoost transformations
xgb_X_train_transformed:
  type: kedro_datasets.pandas.ParquetDataset
  filepath: data/05_model_input/xgb_X_train_transformed.parquet

xgb_X_test_transformed:
  type: kedro_datasets.pandas.ParquetDataset
  filepath: data/05_model_input/xgb_X_test_transformed.parquet

xgb_preprocessor:
  type: pickle.PickleDataset
  filepath: data/06_models/xgb_preprocessor.pkl

# Evaluation metrics 
cb_eval_metrics:
  type: kedro_datasets.pandas.ParquetDataset
  filepath: data/08_reporting/cb_eval_metrics.parquet

xgb_eval_metrics:
  type: kedro_datasets.pandas.ParquetDataset
  filepath: data/08_reporting/xgb_eval_metrics.parquet

lr_eval_metrics:
  type: kedro_datasets.pandas.ParquetDataset
  filepath: data/08_reporting/lr_eval_metrics.parquet

# Trained models (pickle)
cb_model:
  type: pickle.PickleDataset
  filepath: data/06_models/cb_best_model.pkl

xgb_model:
  type: pickle.PickleDataset
  filepath: data/06_models/xgb_best_model.pkl

lr_best_model:
  type: pickle.PickleDataset
  filepath: data/06_models/lr_best_model.pkl

lr_best_pca_model:
  type: pickle.PickleDataset
  filepath: data/06_models/lr_best_pca.pkl

lr_preprocessor:
  type: pickle.PickleDataset
  filepath: data/06_models/lr_preprocessor.pkl

# SHAP plots 
shap_beeswarm_cb_plot:
  type: kedro_datasets.matplotlib.MatplotlibWriter
  filepath: data/08_reporting/shap_cb_summary.png

shap_beeswarm_xgb_plot:
  type: kedro_datasets.matplotlib.MatplotlibWriter
  filepath: data/08_reporting/shap_xgb_summary.png

# Grid search results 
cb_grid_search_results:
  type: kedro_datasets.pandas.ParquetDataset
  filepath: data/08_reporting/cb_grid_results.parquet

xgb_grid_search_results:
  type: kedro_datasets.pandas.ParquetDataset
  filepath: data/08_reporting/xgb_grid_results.parquet

lr_grid_results:
  type: kedro_datasets.pandas.ParquetDataset
  filepath: data/08_reporting/lr_grid_results.parquet

# Linear regression transformation for train and test
lr_X_train_transformed:
  type: kedro_datasets.pandas.ParquetDataset
  filepath: data/05_model_input/lr_X_train_transformed.parquet

lr_X_test_transformed:
  type: kedro_datasets.pandas.ParquetDataset
  filepath: data/05_model_input/lr_X_test_transformed.parquet

X_train_no_outliers:
  type: kedro_datasets.pandas.ParquetDataset
  filepath: data/05_model_input/X_train_no_outliers.parquet

y_train_no_outliers:
  type: kedro_datasets.pandas.ParquetDataset
  filepath: data/05_model_input/y_train_no_outliers.parquet

# Linear regression coefficients and PCA plot
lr_coefficients:
  type: kedro_datasets.pandas.ParquetDataset
  filepath: data/08_reporting/lr_coefficients.parquet

pca_2d_plot:
  type: kedro_datasets.matplotlib.MatplotlibWriter
  filepath: data/08_reporting/pca_2d_plot.png